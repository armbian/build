From ff594396976fa80358e948a65ec1a09f708111e0 Mon Sep 17 00:00:00 2001
From: Patrick Yavitz <pyavitz@gmail.com>
Date: Thu, 15 Jan 2026 07:11:21 -0500
Subject: [PATCH] BananaPi CM4: Enable NVME PCI SUPPORT

Signed-off-by: Patrick Yavitz <pyavitz@gmail.com>
---
 configs/bananapi-cm4-cm4io_defconfig | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/configs/bananapi-cm4-cm4io_defconfig b/configs/bananapi-cm4-cm4io_defconfig
index f3f3bdd5426..52627886b16 100644
--- a/configs/bananapi-cm4-cm4io_defconfig
+++ b/configs/bananapi-cm4-cm4io_defconfig
@@ -23,6 +23,7 @@ CONFIG_FIT_VERBOSE=y
 CONFIG_OF_BOARD_SETUP=y
 # CONFIG_DISPLAY_CPUINFO is not set
 CONFIG_MISC_INIT_R=y
+CONFIG_PCI_INIT_R=y
 CONFIG_SYS_MAXARGS=32
 # CONFIG_CMD_BDI is not set
 # CONFIG_CMD_IMI is not set
@@ -48,6 +49,7 @@ CONFIG_DM_MDIO=y
 CONFIG_DM_MDIO_MUX=y
 CONFIG_ETH_DESIGNWARE_MESON8B=y
 CONFIG_MDIO_MUX_MESON_G12A=y
+CONFIG_NVME_PCI=y
 CONFIG_PCIE_DW_MESON=y
 CONFIG_MESON_G12A_USB_PHY=y
 CONFIG_PINCTRL=y
-- 
2.51.0

