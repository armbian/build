diff --git a/drivers/ram/rockchip/sdram_rk3399.c b/drivers/ram/rockchip/sdram_rk3399.c
index ed70137c..175e8e5b 100644
--- a/drivers/ram/rockchip/sdram_rk3399.c
+++ b/drivers/ram/rockchip/sdram_rk3399.c
@@ -5,6 +5,8 @@
  * Adapted from coreboot.
  */
 
+#define DEBUG
+
 #include <common.h>
 #include <clk.h>
 #include <dm.h>
diff --git a/configs/rock-pi-4-rk3399_defconfig b/configs/rock-pi-4-rk3399_defconfig
index 554945dd..20240f4c 100644
--- a/configs/rockpro64-rk3399_defconfig
+++ b/configs/rockpro64-rk3399_defconfig
@@ -58,3 +58,17 @@ CONFIG_USB_ETHER_RTL8152=y
 CONFIG_USB_ETHER_SMSC95XX=y
 CONFIG_SPL_TINY_MEMSET=y
 CONFIG_ERRNO_STR=y
+CONFIG_LOG=y
+CONFIG_LOG_CONSOLE=y
+CONFIG_TPL_LOG=y
+CONFIG_TPL_LOG_CONSOLE=y
+CONFIG_SPL_LOG=y
+CONFIG_SPL_LOG_CONSOLE=y
+CONFIG_LOG_MAX_LEVEL=7
+# CONFIG_USE_TINY_PRINTF is not set
+CONFIG_SPL_DM_REGULATOR=y
+CONFIG_SPL_DM_REGULATOR_FIXED=y
+CONFIG_SPL_GPIO_SUPPORT=y
+CONFIG_SPL_I2C_SUPPORT=y
+CONFIG_SPL_POWER_SUPPORT=y
+CONFIG_RAM_ROCKCHIP_DEBUG=y
diff --git a/drivers/mmc/mmc.c b/drivers/mmc/mmc.c
index c8f71cd0..d47eb0db 100644
--- a/drivers/mmc/mmc.c
+++ b/drivers/mmc/mmc.c
@@ -6,6 +6,8 @@
  * Based vaguely on the Linux code
  */
 
+#define DEBUG
+
 #include <config.h>
 #include <common.h>
 #include <command.h>
@@ -2632,19 +2634,22 @@ __weak void board_mmc_power_init(void)
 
 static int mmc_power_init(struct mmc *mmc)
 {
+	debug("mmc_power_init begin\n");
 #if CONFIG_IS_ENABLED(DM_MMC)
 #if CONFIG_IS_ENABLED(DM_REGULATOR)
 	int ret;
 
+	debug("mmc_power_init before vmmc\n");
 	ret = device_get_supply_regulator(mmc->dev, "vmmc-supply",
 					  &mmc->vmmc_supply);
+	debug("mmc_power_init after vmmc\n");
 	if (ret)
-		pr_debug("%s: No vmmc supply\n", mmc->dev->name);
+		debug("%s: No vmmc supply\n", mmc->dev->name);
 
 	ret = device_get_supply_regulator(mmc->dev, "vqmmc-supply",
 					  &mmc->vqmmc_supply);
 	if (ret)
-		pr_debug("%s: No vqmmc supply\n", mmc->dev->name);
+		debug("%s: No vqmmc supply\n", mmc->dev->name);
 #endif
 #else /* !CONFIG_DM_MMC */
 	/*
@@ -2653,6 +2658,7 @@ static int mmc_power_init(struct mmc *mmc)
 	 */
 	board_mmc_power_init();
 #endif
+	debug("mmc_power_init end\n");
 	return 0;
 }
 
@@ -2679,8 +2685,11 @@ static void mmc_set_initial_state(struct mmc *mmc)
 
 static int mmc_power_on(struct mmc *mmc)
 {
+	debug("mmc_power_on begin\n");
 #if CONFIG_IS_ENABLED(DM_MMC) && CONFIG_IS_ENABLED(DM_REGULATOR)
+	debug("mmc_power_on regulator test\n");
 	if (mmc->vmmc_supply) {
+		debug("mmc_power_on regulator enable\n");
 		int ret = regulator_set_enable(mmc->vmmc_supply, true);
 
 		if (ret) {
@@ -2689,6 +2698,7 @@ static int mmc_power_on(struct mmc *mmc)
 		}
 	}
 #endif
+	debug("mmc_power_on end\n");
 	return 0;
 }
 
@@ -2810,6 +2820,7 @@ int mmc_start_init(struct mmc *mmc)
 {
 	bool no_card;
 	int err = 0;
+	debug("mmc_start_init\n");
 
 	/*
 	 * all hosts are capable of 1 bit bus-width and able to use the legacy
diff --git a/drivers/power/regulator/regulator_common.c b/drivers/power/regulator/regulator_common.c
index 3dabbe2a..19d04964 100644
--- a/drivers/power/regulator/regulator_common.c
+++ b/drivers/power/regulator/regulator_common.c
@@ -4,6 +4,7 @@
  * Sven Schwermer <sven.svenschwermer@disruptive-technologies.com>
  */
 
+#define DEBUG
 #include "regulator_common.h"
 #include <common.h>
 #include <power/regulator.h>
diff --git a/include/linux/printk.h b/include/linux/printk.h
index 088513ad..b97baf2c 100644
--- a/include/linux/printk.h
+++ b/include/linux/printk.h
@@ -4,6 +4,8 @@
 #include <stdio.h>
 #include <linux/compiler.h>
 
+//#define DEBUG
+
 #define KERN_EMERG
 #define KERN_ALERT
 #define KERN_CRIT
diff --git a/arch/arm/dts/rk3399-u-boot.dtsi b/arch/arm/dts/rk3399-u-boot.dtsi
index 2738a388..ae3cc39e 100644
--- a/arch/arm/dts/rk3399-u-boot.dtsi
+++ b/arch/arm/dts/rk3399-u-boot.dtsi
@@ -9,6 +9,7 @@
 
 &sdmmc {
 	u-boot,dm-pre-reloc;
+	fifo-mode;
 };
 
 &spi1 {
diff --git a/drivers/mmc/dw_mmc.c b/drivers/mmc/dw_mmc.c
index ebe7bcdd..ab323265 100644
--- a/drivers/mmc/dw_mmc.c
+++ b/drivers/mmc/dw_mmc.c
@@ -5,6 +5,8 @@
  * Rajeshawari Shinde <rajeshwari.s@samsung.com>
  */
 
+#define DEBUG
+
 #include <bouncebuf.h>
 #include <common.h>
 #include <errno.h>
diff --git a/common/spl/spl_mmc.c b/common/spl/spl_mmc.c
index b3619889..c239fd1d 100644
--- a/common/spl/spl_mmc.c
+++ b/common/spl/spl_mmc.c
@@ -5,6 +5,9 @@
  *
  * Aneesh V <aneesh@ti.com>
  */
+
+#define DEBUG
+
 #include <common.h>
 #include <dm.h>
 #include <spl.h>
diff --git a/common/spl/spl_fit.c b/common/spl/spl_fit.c
index b3e3ccd5..461cbc28 100644
--- a/common/spl/spl_fit.c
+++ b/common/spl/spl_fit.c
@@ -4,6 +4,8 @@
  * Written by Simon Glass <sjg@chromium.org>
  */
 
+#define DEBUG
+
 #include <common.h>
 #include <errno.h>
 #include <fpga.h>
diff --git a/common/spl/spl_atf.c b/common/spl/spl_atf.c
index 4715f9d3..dfdd0fa4 100644
--- a/common/spl/spl_atf.c
+++ b/common/spl/spl_atf.c
@@ -9,6 +9,8 @@
  * Copyright (C) 2017 Theobroma Systems Design und Consulting GmbH
  */
 
+#define DEBUG
+
 #include <common.h>
 #include <atf_common.h>
 #include <errno.h>
