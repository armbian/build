diff --git a/include/fdt.h b/include/fdt.h
index c51212e..1ad49cb 100644
--- a/include/fdt.h
+++ b/include/fdt.h
@@ -1,5 +1,6 @@
-#ifndef _FDT_H
+#if !defined(_FDT_H) && !defined(FDT_H)
 #define _FDT_H
+#define FDT_H
 
 #ifndef __ASSEMBLY__
 
diff --git a/include/libfdt.h b/include/libfdt.h
index d23d40e..bc08e6a 100644
--- a/include/libfdt.h
+++ b/include/libfdt.h
@@ -1,5 +1,6 @@
-#ifndef _LIBFDT_H
+#if !defined(_LIBFDT_H) && !defined(LIBFDT_H)
 #define _LIBFDT_H
+#define LIBFDT_H
 /*
  * libfdt - Flat Device Tree manipulation
  * Copyright (C) 2006 David Gibson, IBM Corporation.
diff --git a/include/libfdt_env.h b/include/libfdt_env.h
index bf63583..7d0e54e 100644
--- a/include/libfdt_env.h
+++ b/include/libfdt_env.h
@@ -18,8 +18,9 @@
  * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
  */
 
-#ifndef _LIBFDT_ENV_H
+#if !defined(_LIBFDT_ENV_H) && !defined(LIBFDT_ENV_H)
 #define _LIBFDT_ENV_H
+#define LIBFDT_ENV_H
 
 #include "compiler.h"
 
