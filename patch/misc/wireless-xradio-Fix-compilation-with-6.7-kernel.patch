From 4c2433e077e67560d8af5bd4495e925fd8e8458c Mon Sep 17 00:00:00 2001
From: Gunjan Gupta <viraniac@gmail.com>
Date: Sat, 23 Dec 2023 00:38:42 +0530
Subject: [PATCH] Fix compilation failure on 6.7 kernel

---
 drivers/net/wireless/xradio/tx.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/wireless/xradio/tx.c b/drivers/net/wireless/xradio/tx.c
index 481de2d..fd31541 100644
--- a/drivers/net/wireless/xradio/tx.c
+++ b/drivers/net/wireless/xradio/tx.c
@@ -1268,7 +1268,11 @@ void xradio_skb_dtor(struct xradio_common *hw_priv,
 				txpriv->raw_link_id, txpriv->tid);
 		tx_policy_put(hw_priv, txpriv->rate_id);
 	}
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(6, 7, 0))
+	ieee80211_tx_status_skb(hw_priv->hw, skb);
+#else
 	ieee80211_tx_status(hw_priv->hw, skb);
+#endif
 }
 
 #if defined(CONFIG_XRADIO_USE_EXTENSIONS)
