From: Armbian <info@armbian.com>
Subject: [PATCH] Disable BTF for MA35D1 platform

BTF generation fails on 5.10.y kernels with newer pahole/toolchain versions.
Disable BTF specifically for MA35D1 platform.

Signed-off-by: Armbian <info@armbian.com>
---
 lib/Kconfig.debug | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/lib/Kconfig.debug b/lib/Kconfig.debug
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@ -267,6 +267,8 @@ config DEBUG_INFO_DWARF5
 config DEBUG_INFO_BTF
 	bool "Generate BTF typeinfo"
 	depends on !DEBUG_INFO_SPLIT && !DEBUG_INFO_REDUCED
+	# Disabled: BTF generation fails with newer toolchains on MA35D1
+	depends on !ARCH_MA35D1
 	depends on !GCC_PLUGIN_RANDSTRUCT || COMPILE_TEST
 	help
 	  Generate deduplicated BTF type information from DWARF debug info.
