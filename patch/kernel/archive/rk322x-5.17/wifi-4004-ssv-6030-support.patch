From d98c68c5eb7a995198c868a95d304a83d9badae1 Mon Sep 17 00:00:00 2001
From: Paolo Sabatino <paolo.sabatino@gmail.com>
Date: Sun, 8 May 2022 16:48:16 +0000
Subject: [PATCH] set ssv6030p as ssv6051p chip for compatibility

---
 drivers/net/wireless/ssv6051/smac/init.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/wireless/ssv6051/smac/init.c b/drivers/net/wireless/ssv6051/smac/init.c
index 592c52a2838..81a66f9e708 100644
--- a/drivers/net/wireless/ssv6051/smac/init.c
+++ b/drivers/net/wireless/ssv6051/smac/init.c
@@ -778,6 +778,10 @@ static int ssv6xxx_init_hw(struct ssv_hw *sh)
 	sh->tx_page_available = SSV6200_PAGE_TX_THRESHOLD;
 	sh->ampdu_divider = SSV6XXX_AMPDU_DIVIDER;
 	memset(sh->page_count, 0, sizeof(sh->page_count));
+
+	if (sh->cfg.chip_identity == SSV6030P)
+		sh->cfg.force_chip_identity = SSV6051P;
+
 	if (sh->cfg.force_chip_identity) {
 		dev_info(sh->sc->dev, "Force use external RF setting [%08x]\n",
 		       sh->cfg.force_chip_identity);
-- 
2.30.2

