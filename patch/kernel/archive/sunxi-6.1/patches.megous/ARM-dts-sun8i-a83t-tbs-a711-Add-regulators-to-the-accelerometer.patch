From 4acc909b816f8bb28f6d2cfd50ac06042508eb54 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ond=C5=99ej=20Jirman?= <megi@xff.cz>
Date: Tue, 23 Jun 2020 19:15:37 +0200
Subject: [PATCH 025/389] ARM: dts: sun8i-a83t-tbs-a711: Add regulators to the
 accelerometer

The bosch,bma250 driver will fail to probe if the regulators are
not specified in DT, because it tries to set voltage on dummy
regulators, which fails with EINVAL.

Signed-off-by: Ondrej Jirman <megi@xff.cz>
---
 arch/arm/boot/dts/sun8i-a83t-tbs-a711.dts | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm/boot/dts/sun8i-a83t-tbs-a711.dts b/arch/arm/boot/dts/sun8i-a83t-tbs-a711.dts
index 2ba310ce0cba..3d1493ce018d 100644
--- a/arch/arm/boot/dts/sun8i-a83t-tbs-a711.dts
+++ b/arch/arm/boot/dts/sun8i-a83t-tbs-a711.dts
@@ -273,6 +273,8 @@ accelerometer@18 {
 		reg = <0x18>;
 		interrupt-parent = <&pio>;
 		interrupts = <7 10 IRQ_TYPE_EDGE_RISING>; /* PH10 / EINT10 */
+		vdd-supply = <&reg_dcdc1>;
+		vddio-supply = <&reg_dcdc1>;
 	};
 
 	/* NFC (NPC 100) */
-- 
2.35.3

