config:

  # .dts files in these directories will be copied as-is to the build tree; later ones overwrite earlier ones.
  # This is meant to provide a way to "add a board DTS" without having to null-patch them in.
  dts-directories:
    - { source: "dt_32", target: "arch/arm/boot/dts/allwinner" }
    - { source: "dt_64", target: "arch/arm64/boot/dts/allwinner" }

  # every file in these directories will be copied as-is to the build tree; later ones overwrite earlier ones
  # This is meant as a way to have overlays, bare, in a directory, without having to null-patch them in.
  # rpardini: SUNXI: sunxi has .patch's for overlays and their Makefile -- needs manual conversion to bare overlay_32 and overlay_64 dirs
  overlay-directories:
    - { source: "overlay_32", target: "arch/arm/boot/dts/allwinner/overlay" }
    - { source: "overlay_64", target: "arch/arm64/boot/dts/allwinner/overlay" }

  # the Makefile in each of these directories will be magically patched to include the dts files copied
  #  or patched-in; overlay subdir will be included "-y" if it exists.
  # No more Makefile patching needed, yay!
  auto-patch-dt-makefile:
    - { directory: "arch/arm/boot/dts/allwinner", config-var: "CONFIG_ARCH_SUNXI", add-only: true }
    - { directory: "arch/arm64/boot/dts/allwinner", config-var: "CONFIG_ARCH_SUNXI", add-only: true }

  # configuration for when applying patches to git / auto-rewriting patches (development cycle helpers)
  patches-to-git:
    do-not-commit-files:
      - "MAINTAINERS" # constant churn, drop them. sorry.
      - "Documentation/devicetree/bindings/arm/allwinner.yaml" # constant churn, conflicts on every bump, drop it. sorry.
    do-not-commit-regexes: # Python-style regexes
      # ignore DT Makefile patches, we've an auto-patcher now - this does NOT ignore overlay Makefile!
      - "^arch/(arm|arm64)/boot/dts/allwinner/Makefile$"
      - "^arch/(arm|arm64)/boot/dts/allwinner/overlay/"