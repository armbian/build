From ee4ffdd46bd5a07d6189787790ff6345f4c21bc9 Mon Sep 17 00:00:00 2001
From: Jianhua Lu <lujianhua000@gmail.com>
Date: Sun, 9 Nov 2025 23:58:58 +0800
Subject: [PATCH 59/62] arm64: dts: qcom: sm8250-xiaomi-elish: add pin setting
 for touchscreen

Signed-off-by: Jiali Chen <chenjiali@radxa.com>
---
 .../dts/qcom/sm8250-xiaomi-elish-common.dtsi   | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

diff --git a/arch/arm64/boot/dts/qcom/sm8250-xiaomi-elish-common.dtsi b/arch/arm64/boot/dts/qcom/sm8250-xiaomi-elish-common.dtsi
index bfac7ab3aed6..f95513164f75 100644
--- a/arch/arm64/boot/dts/qcom/sm8250-xiaomi-elish-common.dtsi
+++ b/arch/arm64/boot/dts/qcom/sm8250-xiaomi-elish-common.dtsi
@@ -1107,6 +1107,10 @@ touchscreen: touchscreen@0 {
 		spi-max-frequency = <19200000>;	//4800000,9600000,15000000,19200000
 		novatek,irq-gpio = <&tlmm 39 0x2001>;
 
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&ts_default>;
+		pinctrl-1 = <&ts_sleep>;
+
 		novatek,pen-support;
 		novatek,wgp-stylus;
 
@@ -1197,6 +1201,20 @@ panel_sleep: panel-sleep-state {
 		bias-pull-down;
 	};
 
+	ts_default: ts-default-state {
+		pins = "gpio39";
+		function = "gpio";
+		drive-strength = <8>;
+		bias-pull-up;
+	};
+
+	ts_sleep: ts-sleep-state {
+		pins = "gpio39";
+		function = "gpio";
+		drive-strength = <2>;
+		bias-pull-down;
+	};
+
 	keyboard_vdd_pin: keyboard-vdd-state {
 		pins = "gpio127";
 		function = "gpio";
-- 
2.47.3

