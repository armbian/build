From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Xilin Wu <sophon@radxa.com>
Date: Mon, 9 Jun 2025 10:44:53 +0800
Subject: scsi: ufs: qcom: temporarily force to rate A

---
 drivers/ufs/host/ufs-qcom.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/ufs/host/ufs-qcom.c b/drivers/ufs/host/ufs-qcom.c
index 111111111111..222222222222 100644
--- a/drivers/ufs/host/ufs-qcom.c
+++ b/drivers/ufs/host/ufs-qcom.c
@@ -501,6 +501,8 @@ static int ufs_qcom_power_up_sequence(struct ufs_hba *hba)
 			host_params->hs_rate = PA_HS_MODE_B;
 	}
 
+	host_params->hs_rate = PA_HS_MODE_A;
+
 	mode = host_params->hs_rate == PA_HS_MODE_B ? PHY_MODE_UFS_HS_B : PHY_MODE_UFS_HS_A;
 
 	/* Reset UFS Host Controller and PHY */
-- 
Armbian

