From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ian Leung <ianleung7@gmail.com>
Date: Tue, 17 Feb 2026 15:17:09 +0800
Subject: rk3566-orangepi-3b: Specify target-supply for sata2

Fixes SATA SSD not working when pcie2x1 is disabled.

Signed-off-by: Ian Leung <ianleung7@gmail.com>
---
 arch/arm64/boot/dts/rockchip/rk3566-orangepi-3b.dtsi | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/arch/arm64/boot/dts/rockchip/rk3566-orangepi-3b.dtsi b/arch/arm64/boot/dts/rockchip/rk3566-orangepi-3b.dtsi
index 111111111111..222222222222 100644
--- a/arch/arm64/boot/dts/rockchip/rk3566-orangepi-3b.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3566-orangepi-3b.dtsi
@@ -540,6 +540,10 @@ &saradc {
 	status = "okay";
 };
 
+&sata2 {
+	target-supply = <&vcc3v3_pcie30>;
+};
+
 &sdhci {
 	bus-width = <8>;
 	cap-mmc-highspeed;
-- 
Armbian

