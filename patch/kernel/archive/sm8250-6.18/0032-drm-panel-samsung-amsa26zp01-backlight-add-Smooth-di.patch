From e9542c5cb17e21cc35dccfefbf1f2def24ee4872 Mon Sep 17 00:00:00 2001
From: chalkin <chalkin@yeah.net>
Date: Fri, 24 Jan 2025 09:41:50 +0800
Subject: [PATCH 32/62] drm/panel: samsung-amsa26zp01: backlight add Smooth
 dimming

Signed-off-by: Jiali Chen <chenjiali@radxa.com>
---
 drivers/gpu/drm/panel/panel-samsung-amsa26zp01.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/gpu/drm/panel/panel-samsung-amsa26zp01.c b/drivers/gpu/drm/panel/panel-samsung-amsa26zp01.c
index 8fe62ff43909..fda744287908 100644
--- a/drivers/gpu/drm/panel/panel-samsung-amsa26zp01.c
+++ b/drivers/gpu/drm/panel/panel-samsung-amsa26zp01.c
@@ -173,6 +173,10 @@ static int samsung_amsa26zp01_bl_update_status(struct backlight_device *bl)
 	struct mipi_dsi_device *dsi = bl_get_data(bl);
 	u16 brightness = backlight_get_brightness(bl);
 	int ret;
+	// u8 payload_hbm_on[1] = { 0xE0 };	/* HBM Mode */
+	// u8 payload_hbm_off[1] = { 0x28 }; /* 0x20:Normal mode + Smooth dimming off; 0x28: Normal mode + Smooth dimming on */
+	struct mipi_dsi_multi_context dsi_ctx = { .dsi = dsi };
+	mipi_dsi_generic_write_seq_multi(&dsi_ctx, 0x53, 0x28);
 
 	ret = mipi_dsi_dcs_set_display_brightness(dsi, brightness);
 	if (ret < 0)
-- 
2.47.3

