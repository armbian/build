From 5d0b804dd3e4a380303ac284f2c2a1c25852fa66 Mon Sep 17 00:00:00 2001
From: Tomasz Duda <tomaszduda23@gmail.com>
Date: Sun, 3 Aug 2025 17:13:40 +0200
Subject: [PATCH 39/62] power: supply: qcom_pm8150b_charger: clean up

Signed-off-by: Jiali Chen <chenjiali@radxa.com>
---
 drivers/power/supply/qcom_pm8150b_charger.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/power/supply/qcom_pm8150b_charger.c b/drivers/power/supply/qcom_pm8150b_charger.c
index 90842d8633b6..272c1ecd412c 100644
--- a/drivers/power/supply/qcom_pm8150b_charger.c
+++ b/drivers/power/supply/qcom_pm8150b_charger.c
@@ -332,7 +332,7 @@ static int smb5_get_prop_usb_online(struct smb5_chip *chip, int *val)
 		return rc;
 	}
 
-	*val = (stat & USBIN_PLUGIN_RT_STS_BIT);
+	*val = (stat & USBIN_PLUGIN_RT_STS_BIT) ? 1 : 0;
 	return 0;
 }
 
@@ -710,7 +710,7 @@ static irqreturn_t smb5_handle_wdog_bark(int irq, void *data)
 }
 
 static const struct power_supply_desc smb5_psy_desc = {
-	.name = "pmi8998_charger",
+	.name = "pm8150b_charger",
 	.type = POWER_SUPPLY_TYPE_USB,
 	.usb_types = BIT(POWER_SUPPLY_USB_TYPE_SDP) |
 		     BIT(POWER_SUPPLY_USB_TYPE_CDP) |
-- 
2.47.3

