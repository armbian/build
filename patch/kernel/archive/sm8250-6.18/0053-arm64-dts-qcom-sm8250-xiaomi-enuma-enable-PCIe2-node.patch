From 17ae9c697a21a9310959bf33569c55ca25cc4eee Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dawid=20Wr=C3=B3bel?= <me@dawidwrobel.com>
Date: Thu, 23 Oct 2025 23:21:02 +0200
Subject: [PATCH 53/62] arm64: dts: qcom: sm8250-xiaomi-enuma: enable PCIe2
 node
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Enable PCIe2 node, which is where the external X55M modem sits on
this platform.

Signed-off-by: Dawid Wr√≥bel <me@dawidwrobel.com>
Signed-off-by: Jiali Chen <chenjiali@radxa.com>
---
 arch/arm64/boot/dts/qcom/sm8250-xiaomi-enuma.dts | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/arch/arm64/boot/dts/qcom/sm8250-xiaomi-enuma.dts b/arch/arm64/boot/dts/qcom/sm8250-xiaomi-enuma.dts
index bb75d43010ae..f7765ce77ef0 100644
--- a/arch/arm64/boot/dts/qcom/sm8250-xiaomi-enuma.dts
+++ b/arch/arm64/boot/dts/qcom/sm8250-xiaomi-enuma.dts
@@ -21,3 +21,13 @@ &touchscreen {
 	firmware-name = "novatek/novatek_nt36523_k81_fw01.bin";
 	status = "okay";
 };
+
+&pcie2 {
+	status = "okay";
+};
+
+&pcie2_phy {
+	vdda-phy-supply = <&vreg_l5a_0p88>;
+	vdda-pll-supply = <&vreg_l9a_1p2>;
+	status = "okay";
+};
-- 
2.47.3

