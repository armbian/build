From 55e798713a8e15a67bc58e1d97aca87e9665d908 Mon Sep 17 00:00:00 2001
From: "steve.jeong" <jkhpro1003@gmail.com>
Date: Thu, 21 Jul 2022 12:44:38 +0900
Subject: [PATCH 99/99] ODROID-M1: dtb/dtbo: refactoring code

spi pinctrl move to high layer

Signed-off-by: steve.jeong <jkhpro1003@gmail.com>
Change-Id: Ie5fb2ee02a521f56b948f3d5c3bac35305a31eba
---
 arch/arm64/boot/dts/rockchip/overlays/odroidm1/spi0.dts | 2 --
 arch/arm64/boot/dts/rockchip/rk3568-odroid-m1.dts       | 6 ++++++
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/boot/dts/rockchip/overlays/odroidm1/spi0.dts b/arch/arm64/boot/dts/rockchip/overlays/odroidm1/spi0.dts
index f17f6ecb67a2..e9380f554719 100644
--- a/arch/arm64/boot/dts/rockchip/overlays/odroidm1/spi0.dts
+++ b/arch/arm64/boot/dts/rockchip/overlays/odroidm1/spi0.dts
@@ -8,8 +8,6 @@ fragment@0 {
 		__overlay__ {
 			status = "okay";
 
-			pinctrl-0 = <&spi0m1_cs0 &spi0m1_pins>;
-
 			spidev: spidev@0 {
 				status = "okay";
 				compatible = "odroid,spi-dev";
diff --git a/arch/arm64/boot/dts/rockchip/rk3568-odroid-m1.dts b/arch/arm64/boot/dts/rockchip/rk3568-odroid-m1.dts
index 6f368fa17f9b..7873f99b6e73 100644
--- a/arch/arm64/boot/dts/rockchip/rk3568-odroid-m1.dts
+++ b/arch/arm64/boot/dts/rockchip/rk3568-odroid-m1.dts
@@ -595,6 +595,12 @@ &sdmmc0 {
 	status = "okay";
 };
 
+&spi0 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&spi0m1_cs0 &spi0m1_pins>;
+	status = "disabled";
+};
+
 &tsadc {
 	rockchip,hw-tshut-mode = <1>;
 	rockchip,hw-tshut-polarity = <0>;
-- 
2.37.3

