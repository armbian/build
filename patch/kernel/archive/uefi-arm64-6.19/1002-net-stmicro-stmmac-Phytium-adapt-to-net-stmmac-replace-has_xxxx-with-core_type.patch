From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ricardo Pardini <ricardo@pardini.net>
Date: Mon, 29 Dec 2025 15:20:32 +0100
Subject: net: stmicro: stmmac: Phytium: adapt to "net: stmmac: replace
 has_xxxx with core_type"

Signed-off-by: Ricardo Pardini <ricardo@pardini.net>
---
 drivers/net/ethernet/stmicro/stmmac/dwmac-phytium.c   | 4 ++--
 drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/net/ethernet/stmicro/stmmac/dwmac-phytium.c b/drivers/net/ethernet/stmicro/stmmac/dwmac-phytium.c
index 111111111111..222222222222 100644
--- a/drivers/net/ethernet/stmicro/stmmac/dwmac-phytium.c
+++ b/drivers/net/ethernet/stmicro/stmmac/dwmac-phytium.c
@@ -55,7 +55,7 @@ dwmac_phytium_parse_config_acpi(struct platform_device *pdev, const char *mac)
 	np = dev_fwnode(dev);
 
 	plat->phy_interface = fwnode_get_phy_mode(np);
-	
+
 
 	/* Get max speed of operation from properties */
 	if (fwnode_property_read_u32(np, "max-speed", &plat->max_speed))
@@ -96,7 +96,7 @@ dwmac_phytium_parse_config_acpi(struct platform_device *pdev, const char *mac)
 	plat->unicast_filter_entries = 1;
 
 	fwnode_property_read_u32(np, "max-frame-size", &plat->maxmtu);
-	plat->has_gmac = 1;
+	plat->core_type = DWMAC_CORE_GMAC; // adapt to "net: stmmac: replace has_xxxx with core_type"
 	plat->pmt = 1;
 
 	dma_cfg = devm_kzalloc(dev, sizeof(*dma_cfg), GFP_KERNEL);
diff --git a/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c b/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c
index 111111111111..222222222222 100644
--- a/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c
+++ b/drivers/net/ethernet/stmicro/stmmac/stmmac_platform.c
@@ -903,7 +903,7 @@ stmmac_probe_config_acpi(struct platform_device *pdev, u8 *mac)
 						&pdev->dev, plat->unicast_filter_entries);
 	plat->multicast_filter_bins = dwmac1000_validate_mcast_bins(
 						&pdev->dev, plat->multicast_filter_bins);
-	plat->has_gmac = 1;
+	plat->core_type = DWMAC_CORE_GMAC; // adapt to "net: stmmac: replace has_xxxx with core_type"
 	plat->pmt = 1;
 
 	dma_cfg = devm_kzalloc(&pdev->dev, sizeof(*dma_cfg), GFP_KERNEL);
-- 
Armbian

