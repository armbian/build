From 0e6da940b6157854707abe0f6b3d12e1729200e9 Mon Sep 17 00:00:00 2001
From: Sam Shih <sam.shih@mediatek.com>
Date: Thu, 4 Sep 2025 22:23:04 +0200
Subject: [PATCH 088/116] pwm: mediatek: Add pwm support for MT7987

---
 drivers/pwm/pwm-mediatek.c | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/drivers/pwm/pwm-mediatek.c b/drivers/pwm/pwm-mediatek.c
index 4291072a13a7..e56ea699c110 100644
--- a/drivers/pwm/pwm-mediatek.c
+++ b/drivers/pwm/pwm-mediatek.c
@@ -486,6 +486,12 @@ static const struct pwm_mediatek_of_data mt7986_pwm_data = {
 	.chanreg_width = 0x40,
 };
 
+static const struct pwm_mediatek_of_data mt7987_pwm_data = {
+	.num_pwms = 3,
+	.pwm45_fixup = false,
+	.reg_offset = mtk_pwm_reg_offset_v3,
+};
+
 static const struct pwm_mediatek_of_data mt7988_pwm_data = {
 	.num_pwms = 8,
 	.pwm45_fixup = false,
@@ -535,6 +541,7 @@ static const struct of_device_id pwm_mediatek_of_match[] = {
 	{ .compatible = "mediatek,mt7629-pwm", .data = &mt7629_pwm_data },
 	{ .compatible = "mediatek,mt7981-pwm", .data = &mt7981_pwm_data },
 	{ .compatible = "mediatek,mt7986-pwm", .data = &mt7986_pwm_data },
+	{ .compatible = "mediatek,mt7987-pwm", .data = &mt7987_pwm_data },
 	{ .compatible = "mediatek,mt7988-pwm", .data = &mt7988_pwm_data },
 	{ .compatible = "mediatek,mt8183-pwm", .data = &mt8183_pwm_data },
 	{ .compatible = "mediatek,mt8365-pwm", .data = &mt8365_pwm_data },
-- 
2.39.5

