source "${BASH_SOURCE%/*}/include/rockchip64_common.inc"

if [[ $BOARD == rock-3a ]]; then
	BOOTSOURCE='https://github.com/radxa/u-boot.git'
	BOOTBRANCH='branch:stable-4.19-rock3'
	BOOTPATCHDIR="u-boot-rk35xx"
elif [[ $BOARD == rock-5b ]]; then
	BOOTSOURCE='https://github.com/radxa/u-boot.git'
	BOOTBRANCH='branch:stable-5.10-rock5'
	BOOTPATCHDIR="u-boot-rock-5b" # this is a vendor u-boot, totally separate
	BOOTDIR="u-boot-rock-5b"      # use separate build dir, vendor u-boot
fi
OVERLAY_PREFIX='rk35xx'

case $BRANCH in

	legacy)
		UBOOT_COMPILER="aarch64-linux-gnu-"
		UBOOT_USE_GCC='< 8.0'
		BOOTDIR='u-boot-rockchip64'
		KERNELDIR='linux-rockchip64'
		if [[ $BOARD == rock-3a ]]; then
			KERNELSOURCE='https://github.com/radxa/kernel'
			KERNELBRANCH='branch:stable-4.19-rock3'
			KERNELPATCHDIR='rk35xx-legacy'
			BOOT_FDT_FILE="rockchip/rk3568-rock-3-a.dtb"
		elif [[ $BOARD == rock-5b ]]; then
			KERNELSOURCE='https://github.com/radxa/kernel'
			KERNELBRANCH='branch:stable-5.10-rock5'
			KERNELPATCHDIR='rk3588-legacy'
			LINUXCONFIG=linux-rk3588-rock5b-legacy
			LINUXFAMILY="rk3588-radxa-rock5b" # added by rpardini -- gotta be its own family to not conflict with rock-3a
		fi

	;;

        # temporary until kernel 5.16 is well supported for rockchip64
        # it has to be its own family too
        edge)

		SKIP_BOOTSPLASH="yes"
		LINUXFAMILY=rk35xx

        ;;

esac

prepare_boot_configuration

family_tweaks_bsp()
{
	:
}
