# Rockchip RK3582 SoC
BOARD_NAME="Radxa E54C"
BOARD_VENDOR="radxa"
BOARDFAMILY="rockchip-rk3588"
BOARD_MAINTAINER="kamilsaigol schwar3kat"
BOOTCONFIG="radxa-e54c-rk3588s_defconfig"
KERNEL_TARGET="vendor"
BOOT_FDT_FILE="rockchip/rk3588s-radxa-e54c.dtb"
BOOT_SCENARIO="spl-blobs"
BOOT_SOC="rk3588"
IMAGE_PARTITION_TABLE="gpt"

# Enable system and network LEDs
function post_family_tweaks_bsp__radxa_e54c_enable_leds() {
	display_alert "$BOARD" "Creating Board Support LED Config" "info"
	cat <<- EOF > "${destination}"/etc/armbian-leds.conf
	    [/sys/class/leds/lan1-led]
		trigger=netdev
		interval=52
		brightness=1
		link=1
		tx=0
		rx=1
		device_name=lan1

        [/sys/class/leds/lan2-led]
		trigger=netdev
		interval=52
		brightness=1
		link=1
		tx=0
		rx=1
		device_name=lan2

        [/sys/class/leds/lan3-led]
		trigger=netdev
		interval=52
		brightness=1
		link=1
		tx=0
		rx=1
		device_name=lan3
		
		[/sys/class/leds/wan-led]
		trigger=netdev
		interval=52
		brightness=1
		link=1
		tx=0
		rx=1
		device_name=wan
		
		[/sys/class/leds/mmc0::]
		trigger=mmc0
		brightness=0
		
		[/sys/class/leds/sys-led]
		trigger=heartbeat
		brightness=0
		invert=0
	EOF
	
        # Internal Ethernet interface can't get an IP address and shouldn't be managed by NetworkManager so make it unmanaged.
	display_alert "$BOARD" "Creating Board Support Internal Switch Config" "info"
	cat <<- EOF > "${destination}"/etc/NetworkManager/conf.d/99-unmanaged-devices.conf
	[main]

	[keyfile]
	unmanaged-devices=interface-name:end1

	EOF
	
}
